<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.industry.mapper.PictureMapper">
    <insert id="insertPictureBatch">
        insert into construction_industry_api.t_picture
        value (id,resource_id,namespace,type,name,url,creator_id,gmt_create)
        values
        <foreach collection="list" item="item" separator="," open="(" close=")" index="index">
            #{id},
            #{resourceId},
            #{namespace},
            #{type},
            #{name},
            #{url},
            #{creatorId},
            #{gmtCreate}
        </foreach>
    </insert>


    <select id="listPicturesByResourceId" resultType="PictureDO">
        select id,
               resource_id,
               namespace,
               type,
               name,
               url,
               creator_id,
               gmt_create
        from construction_industry_api.t_picture
        where namespace = #{namespace}
          and type = #{type}
          and resource_id = #{resourceId}
    </select>
</mapper>
